\usepackage{color}
\usepackage{listings}
\usepackage{textcomp}
\usepackage{setspace}
% \usepackage{palatino}

\renewcommand{\lstlistlistingname}{List of Listings}
\renewcommand{\lstlistingname}{Code Listing}
\definecolor{gray}{gray}{0.5}
\definecolor{green}{rgb}{0,0.5,0}

\lstnewenvironment{python}[1][]{
\lstset{
language=python,
basicstyle=\ttfamily\small\setstretch{1},
stringstyle=\color{red},
showstringspaces=false,
breaklines=true,
breakindent=0pt,
prebreak=\mbox{\tiny$\searrow$},
% postbreak=\mbox{{\color{blue}\tiny$\rightarrow$}},
postbreak=\mbox{{\color{gray}$\cdots$}},
numbers=left,
numberstyle=\tiny,
alsoletter={1234567890},
otherkeywords={\ , \}, \{},
keywordstyle=\color{green}\bfseries,
emph={access,and,break,class,continue,def,del,elif ,else,%
except,exec,finally,for,from,global,if,import,in,is,%
lambda,not,or,pass,print,raise,return,try,while},
emphstyle=\color{green}\bfseries,
emph={[2]True, False, None, self},
emphstyle=[2]\color{green},
emph={[2]from, import, as},
emphstyle=[3]\color{blue},
% upquote=true,
% morecomment=[s]{"""}{"""},
commentstyle=\color{gray}\slshape,
emph={[4]1, 2, 3, 4, 5, 6, 7, 8, 9, 0},
emphstyle=[4]\color{blue},
literate=*{:}{{\textcolor{blue}:}}{1}%
{=}{{\textcolor{blue}=}}{1}%
{-}{{\textcolor{blue}-}}{1}%
{+}{{\textcolor{blue}+}}{1}%
{*}{{\textcolor{blue}*}}{1}%
{!}{{\textcolor{blue}!}}{1}%
{(}{{\textcolor{blue}(}}{1}%
{)}{{\textcolor{blue})}}{1}%
{[}{{\textcolor{blue}[}}{1}%
{]}{{\textcolor{blue}]}}{1}%
{<}{{\textcolor{blue}<}}{1}%
{>}{{\textcolor{blue}>}}{1},%
% framexleftmargin=1mm, framextopmargin=1mm, frame=shadowbox, rulesepcolor=\color{blue},#1
}}{}


\lstset{
language=python,
basicstyle=\ttfamily\small\setstretch{1},
stringstyle=\color{red},
showstringspaces=false,
breaklines=true,
breakindent=0pt,
prebreak=\mbox{\tiny$\searrow$},
% postbreak=\mbox{{\color{blue}\tiny$\rightarrow$}},
postbreak=\mbox{{\color{gray}$\cdots$}},
numbers=left,
numberstyle=\tiny,
alsoletter={1234567890},
otherkeywords={\ , \}, \{},
keywordstyle=\color{green}\bfseries,
emph={access,and,break,class,continue,def,del,elif ,else,%
except,exec,finally,for,from,global,if,import,in,is,%
lambda,not,or,pass,print,raise,return,try,while},
emphstyle=\color{green}\bfseries,
emph={[2]True, False, None, self},
emphstyle=[2]\color{green},
emph={[2]from, import, as},
emphstyle=[3]\color{blue},
% upquote=true,
% morecomment=[s]{"""}{"""},
commentstyle=\color{gray}\slshape,
emph={[4]1, 2, 3, 4, 5, 6, 7, 8, 9, 0},
emphstyle=[4]\color{blue},
literate=*{:}{{\textcolor{blue}:}}{1}%
{=}{{\textcolor{blue}=}}{1}%
{-}{{\textcolor{blue}-}}{1}%
{+}{{\textcolor{blue}+}}{1}%
{*}{{\textcolor{blue}*}}{1}%
{!}{{\textcolor{blue}!}}{1}%
{(}{{\textcolor{blue}(}}{1}%
{)}{{\textcolor{blue})}}{1}%
{[}{{\textcolor{blue}[}}{1}%
{]}{{\textcolor{blue}]}}{1}%
{<}{{\textcolor{blue}<}}{1}%
{>}{{\textcolor{blue}>}}{1},%
% framexleftmargin=1mm, framextopmargin=1mm, frame=shadowbox, rulesepcolor=\color{blue},#1
}
